[![N|Solid](https://www.maib.md/images/logo.svg)](https://www.maib.md)

# Модуль Maib Payment Gateway для Prestashop v. 8.x
Этот плагин позволяет интегрировать ваш Opencart интернет-магазин с **maib e-commerce API** для приема онлайн-платежей (Visa/Mastercard/Google Pay/Apple Pay).

## Описание
Подробнее об этапах интеграции и требованиях к сайту можно узнать [здесь](https://docs.maibmerchants.md/ru/etapy-i-trebovaniya-k-integracii).

Чтобы протестировать интеграцию, вам понадобятся данные доступа к тестовому проекту (Project ID / Project Secret / Signature Key). Для этого просим вас отправить запрос на электронную почту: ecom@maib.md.

Для осуществления реальных платежей вам необходимо заключить договор e-commerce и выполнить как минимум одну успешную транзакцию, используя данные тестового проекта и данные карты для тестирования.

После подписания договора вы получите доступ к платформе maibmerchants и сможете активировать Производственный Проект.

## Функционал
**Платежи онлайн**: Visa / Mastercard / Apple Pay / Google Pay.

**Три валюты**: MDL / USD / EUR (в зависимости от настроек вашего проекта).

**Возврат платежа**: Для возврата платежа необходимо обновить статус заказа (см. _refund.png_) на статус, выбранный для _Возврат платежа_ в настройках расширения **Модуль платежного шлюза Maib** (см. _settings.png_). Сумма платежа будет возвращена на карту клиента.

## Требования
- Регистрация на платформе maibmerchants.md
- Prestashop v. 8.x
- Расширения _curl_ и _json_ включены

## Установка
1. Загрузите файл расширения из репозитория Github или Prestashop.
2. В панели администратора Prestashop/интерфейсе администратора выберите _Модули > Диспетчер модулей_.
3. Нажмите кнопку _Загрузить модуль_ и выберите файл расширения. После завершения загрузки Prestashop начнет процесс установки.
4. В разделе _Платежи_ вы увидите новый добавленный модуль **Модуль платежного шлюза Maib**.
5. Нажмите кнопку _Установить_.
6. Нажмите кнопку _Настроить_ для настройки расширения.

## Настройки
1. Project ID - Project ID из Проекта (Тестовый или Производственный) в maibmerchants.
2. Project Secret -  Project Secret из Проекта (Тестовый или Производственный) в maibmerchants. Доступен после активации проекта.
3. Signature Key - Signature Key из Проекта (Тестовый или Производственный) в maibmerchants. Доступен после активации проекта.
4. Ok URL / Fail URL / Callback URL - добавьте эти ссылки в соответствующие поля в настройках Проекта в maibmerchants.
5. Настройки статуса заказа: Платеж в ожидании - Статус заказа, когда платеж находится в ожидании.
6. Настройки статуса заказа: Успешная оплата - Статус заказа после успешного завершения платежа.
7. Настройки статуса заказа: Неуспешная оплата - Статус заказа при неуспешной оплаты.
8. Настройки статуса заказа: Возврат платежа - Статус заказа при возврате платежа. Для возврата платежа обновите статус заказа до этого выбранного статуса (см. _refund.png_).

## Отладка
Если вам требуется дополнительная помощь, обращайтесь в службу поддержки ecommerce **Модуль платежного шлюза Maib**, отправив сообщние по адресу ecom@maib.md.

В письме обязательно укажите следующую информацию:
- Название компании
- Project ID
- Дата и время транзакции с ошибками
- Ошибки из файла с логами